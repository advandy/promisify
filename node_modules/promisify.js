module.exports = function(fnCallbackBasedAPI) {
    return function() {
        var args = Array.prototype.slice.call(arguments);
        return new Promise(function(resolve, reject) {
            var fnCallback = function(err, results) { //error first convention in nodejs callback function.
                if (err) return reject(err);
                if (Array.prototype.slice.call(arguments) > 2) { // in case the result value is more than 1
                    return resolve(Array.prototype.slice.call(arguments, 1));
                } else {
                    return resolve(results);
                }
            };
            args.push(fnCallback);
            fnCallbackBasedAPI.apply(null, args);
        });
    };
};